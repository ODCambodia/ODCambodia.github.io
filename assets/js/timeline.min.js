const baseApiUrl="https://data.opendevelopmentcambodia.net/en/api/3/action/datastore_search",limit=1e3;let resourceUrl;function createTimeline(e,t){let l=document.createElement("ul");e.forEach(e=>{let i=document.createElement("li"),n="";n+='<div class="content">',"laws-timeline"==t?n+=`<h4>${e.title}<a title="Download" target="_blank" class="btn btn-sm btn-secondary float-right" href="${e.resource_link}"><i class="bi bi-download"></i></a></h4>`:"events-timeline"==t&&(n+=`<h4>${e.title}</h4>`),n+='<div class="description">',n+=`<p class="text-center">${e.description}</p>`,""!=e.reference_text&&(n+='<p class="font-italic text-right">'+display_footnote(e.reference_text,e.resource_link)+"</p>"),e.reference_2&&(n+='<p class="font-italic text-right">'+display_footnote(e.reference_2,e.resource_link_2)+"</p>"),e.reference_text_2&&(n+='<p class="font-italic text-right">'+display_footnote(e.reference_text_2,e.resource_link_2)+"</p>"),n+="</div>",n+="</div>",n+='<div class="point"></div>',n+='<div class="date">',n+=`<h5>${e.date}</h5>`,n+="</div>",i.innerHTML=n,l.appendChild(i)}),document.getElementById(t).appendChild(l)}function display_footnote(e,t){let l=(e=(e=(e=e.replace("“",'"')).replace("”",'"')).replace("’","'")).split('"')[0],i;return l+`"<a target="_blank" href="${t}">`+e.split('"')[1]+'</a>"'+e.split('"')[2]}null!=document.getElementById("laws-timeline")&&fetch(resourceUrl=baseApiUrl+"?resource_id="+(resourceId="en"===document.documentElement.lang?"68bbda74-854f-440a-adbb-1571fd162458":"38ef97b3-bd50-4c76-b0a5-21a718ccdc80")+"&limit=1000").then(e=>e.json()).then(e=>createTimeline(e.result.records,"laws-timeline")),null!=document.getElementById("events-timeline")&&fetch(resourceUrl=baseApiUrl+"?resource_id="+(resourceId="en"===document.documentElement.lang?"f40f6193-1802-4338-9169-abacecb5d217":"53800d2e-2e92-4d5a-bd9c-759760512b0a")+"&limit=1000").then(e=>e.json()).then(e=>createTimeline(e.result.records,"events-timeline"));
